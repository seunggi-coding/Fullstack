var db_answerList = [];
var db_answerList2 = [];
var db_answerList3 = [];

//기출 1회 정답
db_answerList[0] = "4";
db_answerList[1] = "2";
db_answerList[2] = "3";
db_answerList[3] = "4";
db_answerList[4] = "4";
db_answerList[5] = "3";
db_answerList[6] = "4";
db_answerList[7] = "3";
db_answerList[8] = "2";
db_answerList[9] = "3";
db_answerList[10] = "3";
db_answerList[11] = "4";
db_answerList[12] = "2";
db_answerList[13] = "3";
db_answerList[14] = "1";
db_answerList[15] = "1";
db_answerList[16] = "2";
db_answerList[17] = "2";
db_answerList[18] = "2";
db_answerList[19] = "2";
db_answerList[20] = "1";
db_answerList[21] = "2";
db_answerList[22] = "3";
db_answerList[23] = "2";
db_answerList[24] = "4";
db_answerList[25] = "4";
db_answerList[26] = "2";
db_answerList[27] = "4";
db_answerList[28] = "1";
db_answerList[29] = "1";
db_answerList[30] = "4";
db_answerList[31] = "4";
db_answerList[32] = "1";
db_answerList[33] = "3";
db_answerList[34] = "1";
db_answerList[35] = "4";
db_answerList[36] = "1";
db_answerList[37] = "3";
db_answerList[38] = "3";
db_answerList[39] = "2";
db_answerList[40] = "1";
db_answerList[41] = "2";
db_answerList[42] = "1";
db_answerList[43] = "3";
db_answerList[44] = "3";
db_answerList[45] = "3";
db_answerList[46] = "1";
db_answerList[47] = "4";
db_answerList[48] = "2";
db_answerList[49] = "2";
db_answerList[50] = "1";
db_answerList[51] = "1";
db_answerList[52] = "4";
db_answerList[53] = "1";
db_answerList[54] = "1";
db_answerList[55] = "3";
db_answerList[56] = "4";
db_answerList[57] = "4";
db_answerList[58] = "3";
db_answerList[59] = "3";
db_answerList[60] = "1";
db_answerList[61] = "3";
db_answerList[62] = "1";
db_answerList[63] = "1";
db_answerList[64] = "1";
db_answerList[65] = "1";
db_answerList[66] = "3";
db_answerList[67] = "2";
db_answerList[68] = "4";
db_answerList[69] = "4";
db_answerList[70] = "1";
db_answerList[71] = "4";
db_answerList[72] = "2";
db_answerList[73] = "2";
db_answerList[74] = "4";
db_answerList[75] = "3";
db_answerList[76] = "1";
db_answerList[77] = "2";
db_answerList[78] = "2";
db_answerList[79] = "3";
db_answerList[80] = "2";
db_answerList[81] = "1";
db_answerList[82] = "3";
db_answerList[83] = "1";
db_answerList[84] = "3";
db_answerList[85] = "1";
db_answerList[86] = "3";
db_answerList[87] = "2";
db_answerList[88] = "3";
db_answerList[89] = "2";
db_answerList[90] = "4";
db_answerList[91] = "2";
db_answerList[92] = "4";
db_answerList[93] = "1";
db_answerList[94] = "3";
db_answerList[95] = "1";
db_answerList[96] = "4";
db_answerList[97] = "4";
db_answerList[98] = "4";
db_answerList[99] = "1";

//기출 2회 정답
db_answerList2[0] = "2";
db_answerList2[1] = "1";
db_answerList2[2] = "1";
db_answerList2[3] = "3";
db_answerList2[4] = "2";
db_answerList2[5] = "4";
db_answerList2[6] = "2";
db_answerList2[7] = "3";
db_answerList2[8] = "4";
db_answerList2[9] = "4";
db_answerList2[10] = "2";
db_answerList2[11] = "3";
db_answerList2[12] = "1";
db_answerList2[13] = "3";
db_answerList2[14] = "3";
db_answerList2[15] = "1";
db_answerList2[16] = "3";
db_answerList2[17] = "1";
db_answerList2[18] = "1";
db_answerList2[19] = "2";
db_answerList2[20] = "3";
db_answerList2[21] = "2";
db_answerList2[22] = "3";
db_answerList2[23] = "2";
db_answerList2[24] = "1";
db_answerList2[25] = "2";
db_answerList2[26] = "4";
db_answerList2[27] = "4";
db_answerList2[28] = "1";
db_answerList2[29] = "3";
db_answerList2[30] = "4";
db_answerList2[31] = "4";
db_answerList2[32] = "2";
db_answerList2[33] = "1";
db_answerList2[34] = "3";
db_answerList2[35] = "2";
db_answerList2[36] = "2";
db_answerList2[37] = "1";
db_answerList2[38] = "3";
db_answerList2[39] = "4";
db_answerList2[40] = "1";
db_answerList2[41] = "1";
db_answerList2[42] = "4";
db_answerList2[43] = "4";
db_answerList2[44] = "3";
db_answerList2[45] = "3";
db_answerList2[46] = "3";
db_answerList2[47] = "2";
db_answerList2[48] = "2";
db_answerList2[49] = "4";
db_answerList2[50] = "2";
db_answerList2[51] = "4";
db_answerList2[52] = "3";
db_answerList2[53] = "3";
db_answerList2[54] = "4";
db_answerList2[55] = "4";
db_answerList2[56] = "4";
db_answerList2[57] = "2";
db_answerList2[58] = "2";
db_answerList2[59] = "1";
db_answerList2[60] = "3";
db_answerList2[61] = "2";
db_answerList2[62] = "2";
db_answerList2[63] = "2";
db_answerList2[64] = "2";
db_answerList2[65] = "2";
db_answerList2[66] = "3";
db_answerList2[67] = "2";
db_answerList2[68] = "3";
db_answerList2[69] = "4";
db_answerList2[70] = "2";
db_answerList2[71] = "3";
db_answerList2[72] = "4";
db_answerList2[73] = "2";
db_answerList2[74] = "1";
db_answerList2[75] = "1";
db_answerList2[76] = "4";
db_answerList2[77] = "1";
db_answerList2[78] = "3";
db_answerList2[79] = "2";
db_answerList2[80] = "4";
db_answerList2[81] = "1";
db_answerList2[82] = "2";
db_answerList2[83] = "1";
db_answerList2[84] = "2";
db_answerList2[85] = "4";
db_answerList2[86] = "3";
db_answerList2[87] = "4";
db_answerList2[88] = "1";
db_answerList2[89] = "1";
db_answerList2[90] = "2";
db_answerList2[91] = "1";
db_answerList2[92] = "2";
db_answerList2[93] = "2";
db_answerList2[94] = "1";
db_answerList2[95] = "4";
db_answerList2[96] = "3";
db_answerList2[97] = "4";
db_answerList2[98] = "1";
db_answerList2[99] = "4";

//모의 1회 정답(1회 홀수답 + 2회 짝수답)
for(let i = 0; i < 100; i++) {
	if((i+1) % 2 != 0) {
		db_answerList3[i] = db_answerList[i];
		console.log("1회");
	} else if((i+1) % 2 == 0) {
		db_answerList3[i] = db_answerList2[i];
		console.log("2회");
	}
}

for(let j = 0; j < db_answerList3.length; j++) {
	console.log("j: " + j + " / db_answer3: " + db_answerList3[j]);
}

//로직 시작
function sendPost(url, params) {
	console.log(params);
	var form = document.createElement('form');
	form.setAttribute('method', 'post');
	form.setAttribute('target', '_blank');
	form.setAttribute('action', url);
	document.charset = "UTF-8";

	for (var key in params) {
		console.log(params[key]);
		var hiddenField = document.createElement('input');
		hiddenField.setAttribute('type', 'hidden');
		hiddenField.setAttribute('name', 'key');
		hiddenField.setAttribute('value', params[key]);
		form.appendChild(hiddenField);
	}

	document.body.appendChild(form);
	form.submit();
}

function getanswer() {
	console.log("getanswer() 호출됨")
	var mock1 = [];
	var str = 'mock1_';
	var answer_o = [];
	var answer_x = [];

	for (let i = 1; i <= 100; i++) {
		mock1[i - 1] = document.getElementsByName(str + i);
		for (let j = 0; j < mock1[i - 1].length; j++) {

			if (mock1[i - 1][j].checked === true) {

				if (mock1[i - 1][j].value === db_answerList3[i - 1]) {
					console.log(i + "번 정답!");
					answer_o.push(i);

				} else {
					console.log(i + "번 X!!")
					mock1[i - 1][j] = 0;
					answer_x.push(i);
				}
			}
		}
		if (mock1[i - 1][0].checked === false && mock1[i - 1][1].checked === false && mock1[i - 1][2].checked === false && mock1[i - 1][3].checked === false) {
			answer_x.push(i);
		}
	}

	for (let n = 0; n < answer_x.length; n++) {
		console.log(answer_x[n]);
	}
	$.ajax({
		type: "POST",
		url: "/mock1_loading/" + answer_x,
		data: JSON.stringify(answer_x),
		contentType: "application/json; charset=utf-8",
		dataType: "json"
	}).done(function(data) {
		console.log(data);
		if (confirm("시험을 종료하시겠습니까?")) {
			sendPost('/mock1_sol/{data}', { param: data });
		} 

	}).fail(function(error) {
		alert("응답이 정상X");
	});
}